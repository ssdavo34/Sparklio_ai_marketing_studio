# Sparklio V4 Environment Variables

# Database
DATABASE_URL=postgresql://sparklio:password@100.123.51.5:5432/sparklio_db

# Redis
REDIS_URL=redis://100.123.51.5:6379/0

# MinIO
MINIO_ENDPOINT=100.123.51.5:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=sparklio

# Ollama
OLLAMA_BASE_URL=http://100.120.180.42:11434

# ComfyUI
COMFYUI_BASE_URL=http://100.120.180.42:8188

# API
API_HOST=0.0.0.0
API_PORT=8000

# Security (change in production!)
SECRET_KEY=your-secret-key-here-change-in-production

# OpenAI
OPENAI_API_KEY=your-openai-api-key-here

# ===== Whisper Transcriber Configuration =====
# Whisper 전략 모드 (openai | local | hybrid_cost | hybrid_quality)
# - openai: OpenAI Whisper API 전용
# - local: 로컬 서버 전용 (faster-whisper 또는 whisper.cpp)
# - hybrid_cost: 비용/속도 균형 (짧은 회의는 OpenAI, 긴 회의는 로컬)
# - hybrid_quality: 품질 우선 (로컬 large-v3 모델 우선, 실패 시 OpenAI)
WHISPER_MODE=hybrid_cost

# 로컬 Whisper 백엔드 선택 (faster_whisper | whisper_cpp)
WHISPER_LOCAL_BACKEND=faster_whisper

# faster-whisper 서버 엔드포인트 (RTX Desktop)
# IP: 100.120.180.42 (Tailscale), Port: 9000
WHISPER_FAST_ENDPOINT=http://100.120.180.42:9000/transcribe

# whisper.cpp 서버 엔드포인트 (선택 사항, 백업용)
# WHISPER_CPP_ENDPOINT=http://127.0.0.1:8765/transcribe

# OpenAI Whisper API 설정
WHISPER_OPENAI_MODEL=whisper-1
# hybrid_cost 모드에서 OpenAI 사용 임계값 (분 단위)
# 이 값 이하의 짧은 회의는 OpenAI를 우선 사용
WHISPER_OPENAI_MAX_MINUTES=20

# 모델 프로필 (faster-whisper/whisper.cpp 사용 시)
# - FAST: 짧은 회의 (≤15분) - 빠른 응답 우선
# - BALANCED: 중간 길이 (15~60분) - 속도/정확도 균형
# - ACCURATE: 긴 회의 (≥60분) - 정확도 우선
WHISPER_PROFILE_FAST=small
WHISPER_PROFILE_BALANCED=medium
WHISPER_PROFILE_ACCURATE=large-v3

# Retry 및 Timeout 설정
WHISPER_MAX_RETRIES=3
WHISPER_TIMEOUT_SECONDS=300
