# BíŒ€ ìµì¼ ì‘ì—… ê³„íšì„œ

**ì‘ì—…ì¼**: 2025-11-18 (ì›”)
**ì‘ì„±ì**: BíŒ€ (Backend Team)
**ëª©í‘œ**: í†µí•© í…ŒìŠ¤íŠ¸ ì™„ë£Œ ë° ë°°í¬ ì¤€ë¹„

---

## ğŸ“‹ ì˜¤ëŠ˜(2025-11-15) ì™„ë£Œ ì‚¬í•­ ìš”ì•½

âœ… **Phase 4: Admin API & Monitoring ì™„ë£Œ**
- Admin API 5ê°œ ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„
- Prometheus ë©”íŠ¸ë¦­ 6ì¢… ì¶”ê°€
- ì‹¤ì œ ì„œë²„ êµ¬ë™ ë° ë™ì‘ ê²€ì¦
- Git ì»¤ë°‹ ì™„ë£Œ (086e579)

âœ… **P0 Phase 1-4 ì „ì²´ ì™„ë£Œ**
- API 22ê°œ ì—”ë“œí¬ì¸íŠ¸
- Generator 3ì¢…, Agent 7ì¢…
- DB Models 3ê°œ, Redis ìºì‹±, Prometheus ëª¨ë‹ˆí„°ë§

---

## ğŸ¯ ìµì¼(2025-11-18) ì‘ì—… ëª©í‘œ

### ìš°ì„ ìˆœìœ„ 1: í†µí•© í…ŒìŠ¤íŠ¸ ì™„ë£Œ (í•„ìˆ˜)

**ì‘ì—… í•­ëª©**:

#### 1-1. í…ŒìŠ¤íŠ¸ ë°ì´í„° ë¡œë“œ
- [ ] PostgreSQLì— í…ŒìŠ¤íŠ¸ í”½ìŠ¤ì²˜ ë¡œë“œ
  ```bash
  psql -h localhost -U sparklio -d sparklio_db -f tests/fixtures/test_data.sql
  ```
- [ ] í…ŒìŠ¤íŠ¸ ì‚¬ìš©ì ìƒì„± í™•ì¸
  - Admin: `qa@sparklio.ai` / `testpassword`
  - Editor: `qa2@sparklio.ai` / `testpassword`
  - Viewer: `qa-viewer@sparklio.ai` / `testpassword`
- [ ] í…ŒìŠ¤íŠ¸ ë¸Œëœë“œ 3ê°œ ìƒì„± í™•ì¸
- [ ] í…ŒìŠ¤íŠ¸ í…œí”Œë¦¿ 3ê°œ ìƒì„± í™•ì¸

**ì˜ˆìƒ ì‹œê°„**: 30ë¶„
**ë‹´ë‹¹**: Backend ê°œë°œì
**ì‚°ì¶œë¬¼**: í…ŒìŠ¤íŠ¸ ë°ì´í„° ë¡œë“œ ì™„ë£Œ ë³´ê³ 

---

#### 1-2. Backend API í†µí•© í…ŒìŠ¤íŠ¸ ì‹¤í–‰
- [ ] Playwright í…ŒìŠ¤íŠ¸ ì‹¤í–‰
  ```bash
  npm run test:backend
  ```
- [ ] 31ê°œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ í†µê³¼ í™•ì¸
  - Generator API í…ŒìŠ¤íŠ¸ (3ê°œ)
  - Documents API í…ŒìŠ¤íŠ¸ (5ê°œ)
  - Editor API í…ŒìŠ¤íŠ¸ (2ê°œ)
  - Templates API í…ŒìŠ¤íŠ¸ (7ê°œ)
  - Admin API í…ŒìŠ¤íŠ¸ (5ê°œ)
  - Monitoring í…ŒìŠ¤íŠ¸ (2ê°œ)
  - ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ (7ê°œ)
- [ ] ì‹¤íŒ¨ ì¼€ì´ìŠ¤ ë””ë²„ê¹… ë° ìˆ˜ì •

**ì˜ˆìƒ ì‹œê°„**: 2ì‹œê°„
**ë‹´ë‹¹**: Backend ê°œë°œì + QAíŒ€ í˜‘ì—…
**ì‚°ì¶œë¬¼**: í…ŒìŠ¤íŠ¸ ë¦¬í¬íŠ¸ (í†µê³¼ìœ¨, ì‹¤íŒ¨ ì¼€ì´ìŠ¤)

---

#### 1-3. JWT ì¸ì¦ í…ŒìŠ¤íŠ¸
- [ ] ë¡œê·¸ì¸ API í…ŒìŠ¤íŠ¸
  ```bash
  curl -X POST http://localhost:8000/api/v1/users/login \
    -d '{"email":"qa@sparklio.ai","password":"testpassword"}'
  ```
- [ ] JWT í† í° ë°œê¸‰ í™•ì¸
- [ ] Admin API ì¸ì¦ í…ŒìŠ¤íŠ¸
  ```bash
  TOKEN=$(curl ... | jq -r '.access_token')
  curl -H "Authorization: Bearer $TOKEN" \
    http://localhost:8000/api/v1/admin/users
  ```
- [ ] 7ê°œ Agent ìƒíƒœ í™•ì¸
  ```bash
  curl -H "Authorization: Bearer $TOKEN" \
    http://localhost:8000/api/v1/admin/agents
  ```

**ì˜ˆìƒ ì‹œê°„**: 1ì‹œê°„
**ë‹´ë‹¹**: Backend ê°œë°œì
**ì‚°ì¶œë¬¼**: JWT ì¸ì¦ í…ŒìŠ¤íŠ¸ ê²°ê³¼

---

### ìš°ì„ ìˆœìœ„ 2: ì„±ëŠ¥ ìµœì í™” (ê¶Œì¥)

**ì‘ì—… í•­ëª©**:

#### 2-1. Generator ì„±ëŠ¥ ê²€ì¦
- [ ] Brand Kit Generator ì‹¤í–‰ ì‹œê°„ ì¸¡ì •
  - ëª©í‘œ: < 10ì´ˆ
- [ ] Product Detail Generator ì‹¤í–‰ ì‹œê°„ ì¸¡ì •
  - ëª©í‘œ: < 10ì´ˆ
- [ ] SNS Generator ì‹¤í–‰ ì‹œê°„ ì¸¡ì •
  - ëª©í‘œ: < 10ì´ˆ
- [ ] ë³‘ëª© êµ¬ê°„ ë¶„ì„ (Agent ì‹¤í–‰ ì‹œê°„ ë¡œê·¸)

**ì˜ˆìƒ ì‹œê°„**: 1.5ì‹œê°„
**ë‹´ë‹¹**: Backend ê°œë°œì
**ì‚°ì¶œë¬¼**: ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ë¦¬í¬íŠ¸

---

#### 2-2. Redis ìºì‹± íš¨ìœ¨ ê²€ì¦
- [ ] Template ìºì‹± HIT ë¹„ìœ¨ ì¸¡ì •
  - ëª©í‘œ: > 80%
- [ ] Brand Learning ìºì‹± HIT ë¹„ìœ¨ ì¸¡ì •
  - ëª©í‘œ: > 70%
- [ ] ìºì‹œ TTL ìµœì í™”
  - Template: 1ì‹œê°„ (í˜„ì¬)
  - Brand Learning: 6ì‹œê°„ (í˜„ì¬)

**ì˜ˆìƒ ì‹œê°„**: 1ì‹œê°„
**ë‹´ë‹¹**: Backend ê°œë°œì
**ì‚°ì¶œë¬¼**: ìºì‹± íš¨ìœ¨ ë¦¬í¬íŠ¸

---

#### 2-3. Prometheus ë©”íŠ¸ë¦­ ê²€ì¦
- [ ] Generator ë©”íŠ¸ë¦­ ìˆ˜ì§‘ í™•ì¸
  ```bash
  curl http://localhost:8000/metrics | grep sparklio_generator
  ```
- [ ] Cache ë©”íŠ¸ë¦­ ìˆ˜ì§‘ í™•ì¸
  ```bash
  curl http://localhost:8000/metrics | grep sparklio_cache
  ```
- [ ] Document/Template ë©”íŠ¸ë¦­ ìˆ˜ì§‘ í™•ì¸
- [ ] Grafana ëŒ€ì‹œë³´ë“œ êµ¬ì„± (ì„ íƒ)

**ì˜ˆìƒ ì‹œê°„**: 1ì‹œê°„
**ë‹´ë‹¹**: Backend ê°œë°œì
**ì‚°ì¶œë¬¼**: ë©”íŠ¸ë¦­ ìˆ˜ì§‘ í˜„í™© ë¦¬í¬íŠ¸

---

### ìš°ì„ ìˆœìœ„ 3: CíŒ€ Frontend í†µí•© ì§€ì› (í•„ìˆ˜)

**ì‘ì—… í•­ëª©**:

#### 3-1. API ì—°ë™ ê°€ì´ë“œ ì‘ì„±
- [ ] API ì—”ë“œí¬ì¸íŠ¸ ëª©ë¡ ì •ë¦¬
- [ ] ìš”ì²­/ì‘ë‹µ ì˜ˆì‹œ ì‘ì„±
- [ ] ì—ëŸ¬ ì½”ë“œ ì •ë¦¬
- [ ] CORS ì„¤ì • í™•ì¸

**ì˜ˆìƒ ì‹œê°„**: 1ì‹œê°„
**ë‹´ë‹¹**: Backend ê°œë°œì
**ì‚°ì¶œë¬¼**: `API_INTEGRATION_GUIDE.md`

---

#### 3-2. CíŒ€ ì—°ë™ í…ŒìŠ¤íŠ¸ ì§€ì›
- [ ] Frontendì—ì„œ `/api/v1/generate` í˜¸ì¶œ í…ŒìŠ¤íŠ¸
- [ ] Documents API ì €ì¥/ë¡œë“œ í…ŒìŠ¤íŠ¸
- [ ] Editor Action API í…ŒìŠ¤íŠ¸
- [ ] CORS ì´ìŠˆ í•´ê²° ì§€ì›

**ì˜ˆìƒ ì‹œê°„**: 2ì‹œê°„
**ë‹´ë‹¹**: Backend ê°œë°œì + CíŒ€ í˜‘ì—…
**ì‚°ì¶œë¬¼**: ì—°ë™ í…ŒìŠ¤íŠ¸ ê²°ê³¼

---

### ìš°ì„ ìˆœìœ„ 4: ë°°í¬ ì¤€ë¹„ (ì„ íƒ)

**ì‘ì—… í•­ëª©**:

#### 4-1. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
- [ ] `.env.production` ì‘ì„±
- [ ] DB ì—°ê²° ì •ë³´ í™•ì¸
- [ ] Redis ì—°ê²° ì •ë³´ í™•ì¸
- [ ] Secret Key ì„¤ì •

**ì˜ˆìƒ ì‹œê°„**: 30ë¶„
**ë‹´ë‹¹**: Backend ê°œë°œì
**ì‚°ì¶œë¬¼**: `.env.production`

---

#### 4-2. Docker ì»¨í…Œì´ë„ˆ êµ¬ì„± (ì„ íƒ)
- [ ] `Dockerfile` ì‘ì„±
- [ ] `docker-compose.yml` ì‘ì„±
- [ ] ë¡œì»¬ Docker í…ŒìŠ¤íŠ¸
- [ ] ì´ë¯¸ì§€ ë¹Œë“œ ë° ì‹¤í–‰ í™•ì¸

**ì˜ˆìƒ ì‹œê°„**: 2ì‹œê°„
**ë‹´ë‹¹**: Backend ê°œë°œì
**ì‚°ì¶œë¬¼**: Docker ì´ë¯¸ì§€

---

## ğŸ“Š ì‘ì—… ì‹œê°„ ì˜ˆìƒ

| ìš°ì„ ìˆœìœ„ | ì‘ì—… | ì˜ˆìƒ ì‹œê°„ | í•„ìˆ˜ ì—¬ë¶€ |
|---------|------|-----------|-----------|
| **1** | í†µí•© í…ŒìŠ¤íŠ¸ ì™„ë£Œ | 3.5ì‹œê°„ | âœ… í•„ìˆ˜ |
| **2** | ì„±ëŠ¥ ìµœì í™” | 3.5ì‹œê°„ | âš ï¸ ê¶Œì¥ |
| **3** | CíŒ€ í†µí•© ì§€ì› | 3ì‹œê°„ | âœ… í•„ìˆ˜ |
| **4** | ë°°í¬ ì¤€ë¹„ | 2.5ì‹œê°„ | â¬œ ì„ íƒ |
| **í•©ê³„** | | 12.5ì‹œê°„ | (í•„ìˆ˜: 6.5ì‹œê°„) |

**ê¶Œì¥ ì‘ì—… ìˆœì„œ**:
1. ì˜¤ì „ (4ì‹œê°„): ìš°ì„ ìˆœìœ„ 1 (í†µí•© í…ŒìŠ¤íŠ¸ ì™„ë£Œ)
2. ì˜¤í›„ ì „ë°˜ (3ì‹œê°„): ìš°ì„ ìˆœìœ„ 3 (CíŒ€ í†µí•© ì§€ì›)
3. ì˜¤í›„ í›„ë°˜ (3.5ì‹œê°„): ìš°ì„ ìˆœìœ„ 2 (ì„±ëŠ¥ ìµœì í™”)

---

## ğŸš¨ ì˜ˆìƒ ì´ìŠˆ ë° ëŒ€ì‘ ë°©ì•ˆ

### ì´ìŠˆ 1: í…ŒìŠ¤íŠ¸ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨
**ì¦ìƒ**: PostgreSQL ì—°ê²° ì˜¤ë¥˜ ë˜ëŠ” í…Œì´ë¸” ë¯¸ìƒì„±
**ëŒ€ì‘**:
1. Alembic migration ì¬ì‹¤í–‰: `alembic upgrade head`
2. DB ì—°ê²° ì •ë³´ í™•ì¸: `.env` íŒŒì¼ ê²€ì¦
3. ìˆ˜ë™ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ì‚¬ìš©ì ìƒì„±

---

### ì´ìŠˆ 2: Playwright í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨
**ì¦ìƒ**: 31ê°œ í…ŒìŠ¤íŠ¸ ì¤‘ ì¼ë¶€ ì‹¤íŒ¨
**ëŒ€ì‘**:
1. ì„œë²„ ë¡œê·¸ í™•ì¸: ì—ëŸ¬ ë©”ì‹œì§€ ë¶„ì„
2. í…ŒìŠ¤íŠ¸ íƒ€ì„ì•„ì›ƒ ì¦ê°€: `playwright.config.ts` ìˆ˜ì •
3. Generator ì„±ëŠ¥ ë¬¸ì œ ì‹œ: Mock Providerë¡œ ì „í™˜ ê³ ë ¤

---

### ì´ìŠˆ 3: CíŒ€ CORS ì—ëŸ¬
**ì¦ìƒ**: Frontendì—ì„œ API í˜¸ì¶œ ì‹œ CORS ì—ëŸ¬
**ëŒ€ì‘**:
1. `app/main.py` CORS ì„¤ì • í™•ì¸
2. Allowed Origins ì¶”ê°€: `http://localhost:3000`
3. Credentials í—ˆìš© í™•ì¸

---

## ğŸ“‹ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ì‘ì—… ì‹œì‘ ì „
- [ ] Backend ì„œë²„ ì‹¤í–‰ í™•ì¸
- [ ] PostgreSQL ì—°ê²° í™•ì¸
- [ ] Redis ì—°ê²° í™•ì¸
- [ ] `.env` íŒŒì¼ ì„¤ì • í™•ì¸

### ì‘ì—… ì¤‘
- [ ] í…ŒìŠ¤íŠ¸ ë°ì´í„° ë¡œë“œ ì™„ë£Œ
- [ ] 31ê°œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ í†µê³¼
- [ ] Admin API ì¸ì¦ í…ŒìŠ¤íŠ¸ ì™„ë£Œ
- [ ] CíŒ€ API ì—°ë™ ê°€ì´ë“œ ì‘ì„±

### ì‘ì—… ì™„ë£Œ í›„
- [ ] ì¼ì¼ ì‘ì—… ë³´ê³ ì„œ ì‘ì„±
- [ ] Git ì»¤ë°‹ ë° í‘¸ì‹œ
- [ ] ìµì¼ ì‘ì—… ê³„íšì„œ ì—…ë°ì´íŠ¸
- [ ] AíŒ€, CíŒ€ì— ì§„í–‰ ìƒí™© ê³µìœ 

---

## ğŸ”— ì°¸ê³  ë¬¸ì„œ

1. `PHASE4_ADMIN_MONITORING_REPORT.md` - Admin API ì‚¬ì–‘
2. `PHASE3_TEMPLATE_RAG_REPORT.md` - Redis ìºì‹± ì‚¬ì–‘
3. `PHASE2_AGENT_INTEGRATION_REPORT.md` - Editor API ì‚¬ì–‘
4. `tests/integration/backend-api.spec.ts` - í†µí•© í…ŒìŠ¤íŠ¸ ì½”ë“œ
5. `tests/fixtures/test_data.sql` - í…ŒìŠ¤íŠ¸ í”½ìŠ¤ì²˜
6. `docs/B_TEAM_WORK_ORDER.md` - BíŒ€ ì‘ì—… ì§€ì‹œì„œ v2.0

---

## ğŸ“ íŒ€ ê°„ í˜‘ì—… ìš”ì²­ ì‚¬í•­

### AíŒ€ (QA)ì—ê²Œ
- [ ] Playwright í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë°©ë²• ê³µìœ  ìš”ì²­
- [ ] í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ ì‹œ ë¡œê·¸ ê³µìœ  ìš”ì²­
- [ ] ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ê¸°ì¤€ í™•ì¸ ìš”ì²­

### CíŒ€ (Frontend)ì—ê²Œ
- [ ] API ì—°ë™ ì‹œì‘ ì‹œì  í™•ì¸ ìš”ì²­
- [ ] CORS í…ŒìŠ¤íŠ¸ í˜‘ì¡° ìš”ì²­
- [ ] ì—ëŸ¬ í•¸ë“¤ë§ ë°©ì‹ í˜‘ì˜ ìš”ì²­

---

## ğŸ’¡ ì¶”ê°€ ê°œì„  ì‚¬í•­ (í–¥í›„ ì‘ì—…)

- [ ] Grafana ëŒ€ì‹œë³´ë“œ êµ¬ì„±
- [ ] Alert ê·œì¹™ ì„¤ì • (ì‹¤íŒ¨ìœ¨ > 10%, ì‘ë‹µ ì‹œê°„ > 10ì´ˆ)
- [ ] Template ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„
- [ ] Feedback í•™ìŠµ ëª¨ë¸ êµ¬í˜„
- [ ] RAG Vector DB ì—°ë™ (Qdrant/Chroma)
- [ ] Admin Users: ì‚¬ìš©ì ë¹„í™œì„±í™”/í™œì„±í™” API
- [ ] Admin Jobs: Job ì¬ì‹¤í–‰ API
- [ ] Admin Logs: ë¡œê·¸ ì¡°íšŒ ë° í•„í„°ë§ API

---

**ì‘ì„±ì**: BíŒ€ (Backend)
**ì‘ì„±ì¼**: 2025-11-15
**ëª©í‘œì¼**: 2025-11-18 (ì›”)

**ğŸš€ ë‚´ì¼ë„ í™”ì´íŒ…! í†µí•© í…ŒìŠ¤íŠ¸ ì™„ë£Œë¥¼ ëª©í‘œë¡œ!** ğŸ’ª
