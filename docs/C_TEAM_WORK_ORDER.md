# C_TEAM_WORK_ORDER.md
Sparklio V4 â€” CíŒ€(Frontend) ì‘ì—… ì§€ì‹œì„œ
ì‘ì„±ì¼: 2025-11-15
ì‘ì„±ì: AíŒ€ (Infrastructure Team)

---

# 1. ì‘ì—… ê°œìš”

## í”„ë¡œì íŠ¸
**Sparklio V4 AI Marketing Studio - Frontend Development**

## CíŒ€ ì—­í• 
í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œíŒ€ (Frontend Team)

## ì‘ì—… ê¸°ê°„
Phase 1-3: ì•½ 6-8ì£¼ (Phaseë³„ ìƒì„¸ ì¼ì •ì€ ì•„ë˜ ì°¸ì¡°)

## ì‘ì—… í´ë”
```
frontend_starter/          â† CíŒ€ ì‘ì—… í´ë” (ì—¬ê¸°ì„œ ê°œë°œ)
frontend/                  â† ìµœì¢… ë³‘í•© ëŒ€ìƒ (ì‘ì—… ì™„ë£Œ í›„)
```

**ì¤‘ìš”**:
- ëª¨ë“  ì‘ì—…ì€ `frontend_starter/` í´ë”ì—ì„œ ì§„í–‰í•©ë‹ˆë‹¤
- Phaseë³„ ì‘ì—… ì™„ë£Œ í›„ ê²€í† ë¥¼ ê±°ì³ `frontend/` í´ë”ë¡œ ë³‘í•©í•©ë‹ˆë‹¤
- ë³‘í•© ì „ê¹Œì§€ëŠ” `frontend_starter/`ê°€ ê°œë°œ í™˜ê²½ì…ë‹ˆë‹¤

---

# 2. í•„ë… ë¬¸ì„œ

## í•„ë… ë¬¸ì„œ ìš°ì„ ìˆœìœ„

### â­â­â­ í•„ìˆ˜ (ì‘ì—… ì‹œì‘ ì „ ë°˜ë“œì‹œ ì½ê¸°)
1. **FINAL_REPORT.md**
   - ê²½ë¡œ: `K:\sparklio_ai_marketing_studio\docs\FINAL_REPORT.md`
   - ë‚´ìš©: AíŒ€ ì™„ë£Œ ë³´ê³ ì„œ, ì „ì²´ ì‹œìŠ¤í…œ ì´í•´
   - ì½ëŠ” ì‹œê°„: 30ë¶„

2. **EDITOR_ENGINE_IMPLEMENTATION.md**
   - ê²½ë¡œ: `K:\sparklio_ai_marketing_studio\docs\EDITOR_ENGINE_IMPLEMENTATION.md`
   - ë‚´ìš©: Editor ì—”ì§„ êµ¬í˜„ ê°€ì´ë“œ (Fabric.js í†µí•©)
   - ì½ëŠ” ì‹œê°„: 45ë¶„

3. **AGENT_IO_SCHEMA_CATALOG.md**
   - ê²½ë¡œ: `K:\sparklio_ai_marketing_studio\docs\AGENT_IO_SCHEMA_CATALOG.md`
   - ë‚´ìš©: 24ê°œ ì—ì´ì „íŠ¸ I/O ìŠ¤í‚¤ë§ˆ (API ì´í•´)
   - ì½ëŠ” ì‹œê°„: 30ë¶„

4. **SMART_ROUTER_SPEC.md**
   - ê²½ë¡œ: `K:\sparklio_ai_marketing_studio\docs\SMART_ROUTER_SPEC.md`
   - ë‚´ìš©: SmartRouter ìŠ¤í™ (ìì—°ì–´ â†’ Agent ë¼ìš°íŒ…)
   - ì½ëŠ” ì‹œê°„: 20ë¶„

### â­â­ ì¤‘ìš” (Phaseë³„ ì°¸ê³ )
5. **SYSTEM_IMPROVEMENT_PLAN.md**
   - ê²½ë¡œ: `K:\sparklio_ai_marketing_studio\docs\SYSTEM_IMPROVEMENT_PLAN.md`
   - ë‚´ìš©: ì „ì²´ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
   - ì½ëŠ” ì‹œê°„: 40ë¶„

6. **STARTER_CODE_COMPLETE.md**
   - ê²½ë¡œ: `K:\sparklio_ai_marketing_studio\docs\STARTER_CODE_COMPLETE.md`
   - ë‚´ìš©: Backend êµ¬ì¡° ì´í•´ (API ì—°ë™ ì‹œ ì°¸ê³ )
   - ì½ëŠ” ì‹œê°„: 20ë¶„

### â­ ì°¸ê³  (í•„ìš” ì‹œ)
7. **DEPLOYMENT_PROCEDURES.md**
   - ê²½ë¡œ: `K:\sparklio_ai_marketing_studio\docs\DEPLOYMENT_PROCEDURES.md`
   - ë‚´ìš©: ë°°í¬ ì ˆì°¨
   - ì½ëŠ” ì‹œê°„: 15ë¶„

8. **INTEGRATION_LAYER_COMPLETE.md**
   - ê²½ë¡œ: `K:\sparklio_ai_marketing_studio\docs\INTEGRATION_LAYER_COMPLETE.md`
   - ë‚´ìš©: Backend í†µí•© ë ˆì´ì–´ (Ollama, ComfyUI)
   - ì½ëŠ” ì‹œê°„: 15ë¶„

9. **DEV_WORKFLOW.md**
   - ê²½ë¡œ: `K:\sparklio_ai_marketing_studio\docs\DEV_WORKFLOW.md`
   - ë‚´ìš©: ê°œë°œ ì›Œí¬í”Œë¡œìš°
   - ì½ëŠ” ì‹œê°„: 10ë¶„

10. **PORT_ALLOCATION.md**
    - ê²½ë¡œ: `K:\sparklio_ai_marketing_studio\docs\PORT_ALLOCATION.md`
    - ë‚´ìš©: í¬íŠ¸ í• ë‹¹ ì •ë³´
    - ì½ëŠ” ì‹œê°„: 5ë¶„

---

# 3. Phaseë³„ ì‘ì—… ê³„íš

## Phase 1: Foundation (1-2ì£¼)

### ëª©í‘œ
Next.js 14 í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¤ì • ë° ê¸°ë³¸ êµ¬ì¡° êµ¬ì¶•

### ì‘ì—… í•­ëª©
- [ ] **Next.js 14 í”„ë¡œì íŠ¸ ìƒì„±**
  - App Router ì‚¬ìš©
  - TypeScript ì„¤ì •
  - Tailwind CSS ì„¤ì •
  - í´ë” êµ¬ì¡° ì„¤ê³„

- [ ] **API Client êµ¬í˜„**
  - FastAPI ì—°ê²° (http://100.123.51.5:8000)
  - SmartRouter í˜¸ì¶œ í•¨ìˆ˜
  - Error handling
  - TypeScript íƒ€ì… ì •ì˜

- [ ] **ì¸ì¦ ì‹œìŠ¤í…œ (Auth)**
  - JWT í† í° ê´€ë¦¬
  - Login/Logout í˜ì´ì§€
  - Protected Routes
  - User Context

- [ ] **ê¸°ë³¸ ë ˆì´ì•„ì›ƒ**
  - í—¤ë” (Header)
  - ì‚¬ì´ë“œë°” (Sidebar)
  - ë„¤ë¹„ê²Œì´ì…˜ (Navigation)
  - ë°˜ì‘í˜• ë””ìì¸

- [ ] **State Management**
  - Zustand ë˜ëŠ” Jotai ì„¤ì •
  - Global state ì •ì˜
  - User state
  - Editor state

### ì‚°ì¶œë¬¼
- `frontend_starter/` í´ë” ë‚´ Next.js í”„ë¡œì íŠ¸
- API client ë¼ì´ë¸ŒëŸ¬ë¦¬
- ì¸ì¦ ì»´í¬ë„ŒíŠ¸
- ê¸°ë³¸ ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸

---

## Phase 2: Core Features (2-3ì£¼)

### ëª©í‘œ
í•µì‹¬ UI ì»´í¬ë„ŒíŠ¸ ë° Editor ê¸°ë³¸ ê¸°ëŠ¥ êµ¬í˜„

### ì‘ì—… í•­ëª©
- [ ] **í”„ë¡œì íŠ¸ ê´€ë¦¬ UI**
  - í”„ë¡œì íŠ¸ ëª©ë¡ í˜ì´ì§€
  - í”„ë¡œì íŠ¸ ìƒì„±/ìˆ˜ì •/ì‚­ì œ
  - ë¸Œëœë“œ ì„ íƒ
  - í”„ë¡œì íŠ¸ ëŒ€ì‹œë³´ë“œ

- [ ] **Editor ì»´í¬ë„ŒíŠ¸ (ê¸°ë³¸)**
  - Fabric.js í†µí•©
  - Canvas ì´ˆê¸°í™”
  - ìì—°ì–´ ì…ë ¥ ì¸í„°í˜ì´ìŠ¤
  - ê¸°ë³¸ ë„í˜•/í…ìŠ¤íŠ¸ ì¶”ê°€

- [ ] **Command Processor**
  - ìì—°ì–´ ëª…ë ¹ â†’ SmartRouter API í˜¸ì¶œ
  - EditorAgent ì‘ë‹µ ì²˜ë¦¬
  - Canvas ì—…ë°ì´íŠ¸ ë¡œì§
  - History ê´€ë¦¬ (Undo/Redo)

- [ ] **Asset Library**
  - ì´ë¯¸ì§€ ì—…ë¡œë“œ
  - MinIO ì—°ë™ (http://100.123.51.5:9000)
  - ì¸ë„¤ì¼ ìƒì„±
  - Asset ê²€ìƒ‰/í•„í„°

- [ ] **ë¸Œëœë“œ ê´€ë¦¬ UI**
  - BrandKit ì¡°íšŒ/ìˆ˜ì •
  - ìƒ‰ìƒ, í°íŠ¸, ë¡œê³  ì„¤ì •
  - í†¤ì•¤ë§¤ë„ˆ ì„¤ì •

### ì‚°ì¶œë¬¼
- í”„ë¡œì íŠ¸ ê´€ë¦¬ í˜ì´ì§€
- Editor ì»´í¬ë„ŒíŠ¸ (ê¸°ë³¸)
- Asset Library ì»´í¬ë„ŒíŠ¸
- ë¸Œëœë“œ ê´€ë¦¬ í˜ì´ì§€

---

## Phase 3: Advanced Editor (2-3ì£¼)

### ëª©í‘œ
Editor ê³ ê¸‰ ê¸°ëŠ¥ ë° Workflow í†µí•©

### ì‘ì—… í•­ëª©
- [ ] **Editor ê³ ê¸‰ ê¸°ëŠ¥**
  - 12ê°œ Action Category êµ¬í˜„ (ì°¸ê³ : EDITOR_ENGINE_IMPLEMENTATION.md)
    - Layout (add/move/resize/delete/group/align/distribute/layer)
    - Style (color/font/effect)
    - Content (text/image/shape)
  - Smart Snap (ê·¸ë¦¬ë“œ, ê°€ì´ë“œë¼ì¸)
  - Multi-selection
  - Copy/Paste

- [ ] **Workflow Integration**
  - Workflow ì‹¤í–‰ UI
  - ì§„í–‰ ìƒíƒœ í‘œì‹œ (Progress bar)
  - Celery Task ìƒíƒœ ëª¨ë‹ˆí„°ë§
  - ê²°ê³¼ë¬¼ ë¯¸ë¦¬ë³´ê¸°

- [ ] **Review System**
  - ReviewerAgent ê²°ê³¼ í‘œì‹œ
  - í”¼ë“œë°± UI
  - ìˆ˜ì • ìš”ì²­ ì²˜ë¦¬
  - Approval/Rejection

- [ ] **Real-time Collaboration (ì„ íƒì‚¬í•­)**
  - WebSocket ì—°ê²° (Socket.io)
  - Multi-user editing
  - Cursor tracking

- [ ] **Export ê¸°ëŠ¥**
  - PNG/JPG/SVG ë‹¤ìš´ë¡œë“œ
  - PDF ìƒì„±
  - PowerPoint ë‚´ë³´ë‚´ê¸° (pptx)

### ì‚°ì¶œë¬¼
- ì™„ì „í•œ Editor ì»´í¬ë„ŒíŠ¸
- Workflow í†µí•© UI
- Review ì‹œìŠ¤í…œ
- Export ê¸°ëŠ¥

---

## Phase 4: Monitoring & Optimization (1ì£¼, ì„ íƒì‚¬í•­)

### ëª©í‘œ
ì„±ëŠ¥ ìµœì í™” ë° ì‚¬ìš©ì ê²½í—˜ ê°œì„ 

### ì‘ì—… í•­ëª©
- [ ] **ì„±ëŠ¥ ìµœì í™”**
  - Image lazy loading
  - Code splitting
  - Bundle size ìµœì í™”
  - React.memo, useMemo

- [ ] **ì‚¬ìš©ì í”¼ë“œë°±**
  - Toast notifications
  - Loading states
  - Error boundaries
  - Empty states

- [ ] **Analytics**
  - Google Analytics ë˜ëŠ” Mixpanel
  - User action tracking
  - Editor usage metrics

- [ ] **ì ‘ê·¼ì„± (A11y)**
  - ARIA labels
  - Keyboard navigation
  - Screen reader ì§€ì›

### ì‚°ì¶œë¬¼
- ìµœì í™”ëœ í”„ë¡ íŠ¸ì—”ë“œ ì•±
- Analytics í†µí•©
- A11y ì§€ì›

---

# 4. ì¼ì¼ ì‘ì—… ê³„íšì„œ ì–‘ì‹

ë§¤ì¼ ì‘ì—… ì‹œì‘ ì „ ì‘ì„±í•˜ê³ , ì‘ì—… ì¢…ë£Œ ì‹œ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.

**íŒŒì¼ ìœ„ì¹˜**: `frontend_starter/daily_logs/YYYY-MM-DD.md`

**ì–‘ì‹**:

```markdown
# ì¼ì¼ ì‘ì—… ê³„íšì„œ - YYYY-MM-DD

## ì‘ì„±ì
- ì´ë¦„: [ì´ë¦„]
- ë‚ ì§œ: YYYY-MM-DD
- Phase: [1/2/3/4]

---

## ì˜¤ëŠ˜ì˜ ëª©í‘œ
1. [ëª©í‘œ 1]
2. [ëª©í‘œ 2]
3. [ëª©í‘œ 3]

---

## ì‘ì—… í•­ëª©

### 1. [ì‘ì—… 1 ì œëª©]
- **ìƒíƒœ**: [ì§„í–‰ ì˜ˆì •/ì§„í–‰ ì¤‘/ì™„ë£Œ]
- **ì˜ˆìƒ ì‹œê°„**: [2ì‹œê°„]
- **ì‹¤ì œ ì‹œê°„**: [2.5ì‹œê°„]
- **ì‚°ì¶œë¬¼**: [ì»´í¬ë„ŒíŠ¸ íŒŒì¼ ê²½ë¡œ]
- **ë¹„ê³ **: [íŠ¹ì´ì‚¬í•­]

### 2. [ì‘ì—… 2 ì œëª©]
- **ìƒíƒœ**: [ì§„í–‰ ì¤‘]
- **ì˜ˆìƒ ì‹œê°„**: [3ì‹œê°„]
- **ì‹¤ì œ ì‹œê°„**: [ì§„í–‰ ì¤‘]
- **ì‚°ì¶œë¬¼**: [íŒŒì¼ ê²½ë¡œ]
- **ë¹„ê³ **: [ë§‰íŒ ë¶€ë¶„, í•´ê²° ë°©ë²•]

---

## ì™„ë£Œëœ ì‘ì—…
- [x] ì‘ì—… 1
- [x] ì‘ì—… 2
- [ ] ì‘ì—… 3 (ë¯¸ì™„ë£Œ, ë‚´ì¼ ê³„ì†)

---

## í•™ìŠµí•œ ë‚´ìš©
- [ìƒˆë¡œ ë°°ìš´ ê¸°ìˆ /ê°œë…]
- [ì°¸ê³ í•œ ë¬¸ì„œ/ë§í¬]

---

## ë°œìƒí•œ ë¬¸ì œ
### ë¬¸ì œ 1: [ë¬¸ì œ ì œëª©]
- **ì„¤ëª…**: [ë¬¸ì œ ìƒì„¸]
- **í•´ê²° ë°©ë²•**: [í•´ê²° ê³¼ì •]
- **ì°¸ê³ **: [ê´€ë ¨ ë§í¬/ë¬¸ì„œ]

### ë¬¸ì œ 2: [í•´ê²° ì•ˆ ë¨]
- **ì„¤ëª…**: [ë¬¸ì œ ìƒì„¸]
- **ì‹œë„í•œ ë°©ë²•**: [ì‹œë„ 1, ì‹œë„ 2]
- **ë‹¤ìŒ ì•¡ì…˜**: [ë‚´ì¼ AíŒ€/BíŒ€ì—ê²Œ ë¬¸ì˜]

---

## ë‚´ì¼ ê³„íš
1. [ë‚´ì¼ ì‘ì—… 1]
2. [ë‚´ì¼ ì‘ì—… 2]
3. [ë‚´ì¼ ì‘ì—… 3]

---

## Git Commit
- [ ] ì˜¤ì „ ì»¤ë°‹ (11:00-12:00)
- [ ] ì˜¤í›„ ì»¤ë°‹ (15:00-16:00)
- [ ] í‡´ê·¼ ì „ ì»¤ë°‹ (18:00-19:00)

**ì»¤ë°‹ ë©”ì‹œì§€ ì˜ˆì‹œ**:
- `feat(auth): Add login page with JWT integration`
- `feat(editor): Implement Fabric.js canvas initialization`
- `fix(api): Handle API error responses correctly`
```

---

# 5. Git ì‘ì—… ê·œì¹™

## 5.1 ë¸Œëœì¹˜ ì „ëµ

```
main                    â† ìš´ì˜ (ë³‘í•© ì™„ë£Œ í›„)
â””â”€â”€ dev                 â† ê°œë°œ ë©”ì¸ ë¸Œëœì¹˜
    â”œâ”€â”€ feature/auth           â† ê¸°ëŠ¥ë³„ ë¸Œëœì¹˜
    â”œâ”€â”€ feature/editor
    â”œâ”€â”€ feature/project-mgmt
    â””â”€â”€ feature/asset-library
```

## 5.2 ì»¤ë°‹ ë©”ì‹œì§€ í¬ë§·

```
<type>(<scope>): <subject>

<body>

<footer>
```

### Type
- **feat**: ìƒˆ ê¸°ëŠ¥
- **fix**: ë²„ê·¸ ìˆ˜ì •
- **docs**: ë¬¸ì„œ ë³€ê²½
- **style**: ì½”ë“œ í¬ë§·íŒ… (ê¸°ëŠ¥ ë³€ê²½ ì—†ìŒ)
- **refactor**: ë¦¬íŒ©í† ë§
- **test**: í…ŒìŠ¤íŠ¸ ì¶”ê°€/ìˆ˜ì •
- **chore**: ë¹Œë“œ/ì„¤ì • ë³€ê²½

### ì˜ˆì‹œ
```bash
# Good
git commit -m "feat(auth): Add JWT token refresh logic"
git commit -m "feat(editor): Implement Fabric.js object selection"
git commit -m "fix(api): Handle 401 errors in API client"

# Bad
git commit -m "update"
git commit -m "fixed bug"
```

## 5.3 ì»¤ë°‹ ì£¼ê¸°

### ê¶Œì¥
- **2-3ì‹œê°„ë§ˆë‹¤ ì»¤ë°‹** (ì‘ì€ ë‹¨ìœ„ë¡œ ìì£¼ ì»¤ë°‹)
- ê¸°ëŠ¥ ë‹¨ìœ„ë¡œ ì»¤ë°‹ (ì˜ˆ: ì»´í¬ë„ŒíŠ¸ 1ê°œ ì™„ì„± ì‹œ)

### ìµœì†Œ
- **í•˜ë£¨ 1íšŒ ì´ìƒ** (í‡´ê·¼ ì „ ë°˜ë“œì‹œ)

### ì ˆëŒ€ ê¸ˆì§€
- 1ì£¼ì¼ì— 1ë²ˆ í° ì»¤ë°‹ (âŒ)
- "WIP" ì»¤ë°‹ë§Œ ë°˜ë³µ (âŒ)

## 5.4 í‘¸ì‹œ ì£¼ê¸°

- **í•˜ë£¨ 1íšŒ ì´ìƒ** ì›ê²© ì €ì¥ì†Œì— push
- ì‘ì—… ì™„ë£Œ ì‹œì ì— ì¦‰ì‹œ push

---

# 6. í…ŒìŠ¤íŠ¸ ê·œì¹™

## 6.1 í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬

- **Unit Tests**: Jest + React Testing Library
- **E2E Tests**: Playwright (ì„ íƒì‚¬í•­)

## 6.2 í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ëª©í‘œ

- **ì»´í¬ë„ŒíŠ¸**: 70% ì´ìƒ
- **Utils/Hooks**: 80% ì´ìƒ

## 6.3 í…ŒìŠ¤íŠ¸ ì‘ì„± ê·œì¹™

```typescript
// Good: ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸
describe('EditorCanvas', () => {
  it('should initialize Fabric.js canvas', () => {
    render(<EditorCanvas />);
    const canvas = screen.getByTestId('editor-canvas');
    expect(canvas).toBeInTheDocument();
  });

  it('should handle natural language command', async () => {
    render(<EditorCanvas />);
    const input = screen.getByPlaceholderText('ëª…ë ¹ì–´ ì…ë ¥');
    fireEvent.change(input, { target: { value: 'ë¹¨ê°„ìƒ‰ ì› ì¶”ê°€' } });
    fireEvent.click(screen.getByText('ì‹¤í–‰'));
    await waitFor(() => {
      expect(screen.getByTestId('canvas-object-circle')).toBeInTheDocument();
    });
  });
});
```

## 6.4 í…ŒìŠ¤íŠ¸ ì‹¤í–‰

```bash
# ëª¨ë“  í…ŒìŠ¤íŠ¸
npm test

# Watch mode
npm test -- --watch

# Coverage
npm test -- --coverage
```

---

# 7. ì½”ë“œ í’ˆì§ˆ ê·œì¹™

## 7.1 ë¦°í„° (ESLint)

**ì„¤ì •**: `.eslintrc.json`

```json
{
  "extends": [
    "next/core-web-vitals",
    "plugin:@typescript-eslint/recommended",
    "prettier"
  ],
  "rules": {
    "no-console": "warn",
    "no-unused-vars": "error",
    "@typescript-eslint/no-explicit-any": "warn"
  }
}
```

**ì‹¤í–‰**:
```bash
npm run lint
npm run lint:fix  # ìë™ ìˆ˜ì •
```

## 7.2 í¬ë§·í„° (Prettier)

**ì„¤ì •**: `.prettierrc.json`

```json
{
  "semi": true,
  "trailingComma": "es5",
  "singleQuote": true,
  "printWidth": 100,
  "tabWidth": 2
}
```

**ì‹¤í–‰**:
```bash
npm run format
```

## 7.3 íƒ€ì… ì²´í¬ (TypeScript)

```bash
npm run type-check
```

**ê·œì¹™**:
- `any` íƒ€ì… ìµœì†Œí™”
- ëª¨ë“  í•¨ìˆ˜ì— íƒ€ì… ì •ì˜
- Propsì— interface ì •ì˜

---

# 8. API ì—°ë™ ê°€ì´ë“œ

## 8.1 FastAPI ì—”ë“œí¬ì¸íŠ¸

**Base URL**: `http://100.123.51.5:8000`

### ì£¼ìš” ì—”ë“œí¬ì¸íŠ¸

```typescript
// SmartRouter
POST /api/v1/router/route
{
  "user_id": "user123",
  "request_text": "ë¹¨ê°„ìƒ‰ ì› ì¶”ê°€",
  "brand_id": "brand123"
}

// EditorAgent (ì˜ˆì‹œ, BíŒ€ êµ¬í˜„ í›„)
POST /api/v1/agents/editor/process
{
  "request_id": "req-001",
  "source_agent": "SmartRouter",
  "target_agent": "EditorAgent",
  "payload": {
    "command": "add_circle",
    "params": { "color": "red", "radius": 50 }
  }
}

// Workflow ì‹¤í–‰
POST /api/v1/workflow/execute
{
  "project_id": "proj-123",
  "workflow_type": "brochure"
}
```

## 8.2 API Client êµ¬í˜„ ì˜ˆì‹œ

```typescript
// lib/api-client.ts
import axios from 'axios';

const API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://100.123.51.5:8000';

const apiClient = axios.create({
  baseURL: API_BASE_URL,
  headers: {
    'Content-Type': 'application/json',
  },
});

// JWT í† í° ì¸í„°ì…‰í„°
apiClient.interceptors.request.use((config) => {
  const token = localStorage.getItem('access_token');
  if (token) {
    config.headers.Authorization = `Bearer ${token}`;
  }
  return config;
});

// SmartRouter í˜¸ì¶œ
export async function routeRequest(userInput: string, brandId: string) {
  const response = await apiClient.post('/api/v1/router/route', {
    user_id: getCurrentUserId(),
    request_text: userInput,
    brand_id: brandId,
  });
  return response.data;
}

// EditorAgent í˜¸ì¶œ
export async function processEditorCommand(command: string, params: any) {
  const response = await apiClient.post('/api/v1/agents/editor/process', {
    request_id: generateRequestId(),
    source_agent: 'Frontend',
    target_agent: 'EditorAgent',
    payload: { command, params },
  });
  return response.data;
}
```

---

# 9. Editor êµ¬í˜„ ê°€ì´ë“œ

## 9.1 Fabric.js ì„¤ì¹˜

```bash
npm install fabric
npm install @types/fabric --save-dev
```

## 9.2 ê¸°ë³¸ Canvas ì»´í¬ë„ŒíŠ¸

```typescript
// components/Editor/EditorCanvas.tsx
'use client';

import { useEffect, useRef } from 'react';
import { fabric } from 'fabric';

export default function EditorCanvas() {
  const canvasRef = useRef<HTMLCanvasElement>(null);
  const fabricRef = useRef<fabric.Canvas | null>(null);

  useEffect(() => {
    if (canvasRef.current && !fabricRef.current) {
      fabricRef.current = new fabric.Canvas(canvasRef.current, {
        width: 800,
        height: 600,
        backgroundColor: '#ffffff',
      });
    }

    return () => {
      fabricRef.current?.dispose();
    };
  }, []);

  const addCircle = () => {
    if (!fabricRef.current) return;

    const circle = new fabric.Circle({
      radius: 50,
      fill: 'red',
      left: 100,
      top: 100,
    });

    fabricRef.current.add(circle);
  };

  return (
    <div>
      <canvas ref={canvasRef} data-testid="editor-canvas" />
      <button onClick={addCircle}>Add Circle</button>
    </div>
  );
}
```

## 9.3 ìì—°ì–´ ëª…ë ¹ ì²˜ë¦¬

```typescript
// components/Editor/CommandInput.tsx
'use client';

import { useState } from 'react';
import { routeRequest } from '@/lib/api-client';

interface CommandInputProps {
  brandId: string;
  onCommandExecuted: (result: any) => void;
}

export default function CommandInput({ brandId, onCommandExecuted }: CommandInputProps) {
  const [input, setInput] = useState('');
  const [loading, setLoading] = useState(false);

  const handleSubmit = async () => {
    setLoading(true);
    try {
      const result = await routeRequest(input, brandId);
      onCommandExecuted(result);
      setInput('');
    } catch (error) {
      console.error('Command execution failed:', error);
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="flex gap-2">
      <input
        type="text"
        value={input}
        onChange={(e) => setInput(e.target.value)}
        placeholder="ëª…ë ¹ì–´ ì…ë ¥ (ì˜ˆ: ë¹¨ê°„ìƒ‰ ì› ì¶”ê°€)"
        className="flex-1 px-4 py-2 border rounded"
      />
      <button
        onClick={handleSubmit}
        disabled={loading}
        className="px-6 py-2 bg-blue-500 text-white rounded"
      >
        {loading ? 'ì²˜ë¦¬ ì¤‘...' : 'ì‹¤í–‰'}
      </button>
    </div>
  );
}
```

## 9.4 ì°¸ê³  ë¬¸ì„œ

**í•„ìˆ˜**: [EDITOR_ENGINE_IMPLEMENTATION.md](K:\sparklio_ai_marketing_studio\docs\EDITOR_ENGINE_IMPLEMENTATION.md)

ì´ ë¬¸ì„œì—ì„œ ë‹¤ìŒ ë‚´ìš© ì°¸ê³ :
- 4ê°€ì§€ Context (CanvasContext, CommandContext, EditorRules, HistoryContext)
- 12ê°œ Action Category
- EditorAgent I/O ìŠ¤í‚¤ë§ˆ

---

# 10. í´ë” êµ¬ì¡° (ê¶Œì¥)

```
frontend_starter/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ (auth)/
â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â””â”€â”€ signup/
â”‚   â”œâ”€â”€ (dashboard)/
â”‚   â”‚   â”œâ”€â”€ projects/
â”‚   â”‚   â”œâ”€â”€ brands/
â”‚   â”‚   â””â”€â”€ editor/[id]/
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â””â”€â”€ page.tsx
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ Editor/
â”‚   â”‚   â”œâ”€â”€ EditorCanvas.tsx
â”‚   â”‚   â”œâ”€â”€ CommandInput.tsx
â”‚   â”‚   â”œâ”€â”€ Toolbar.tsx
â”‚   â”‚   â””â”€â”€ HistoryPanel.tsx
â”‚   â”œâ”€â”€ Layout/
â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx
â”‚   â”‚   â””â”€â”€ Navigation.tsx
â”‚   â”œâ”€â”€ Projects/
â”‚   â”‚   â”œâ”€â”€ ProjectList.tsx
â”‚   â”‚   â”œâ”€â”€ ProjectCard.tsx
â”‚   â”‚   â””â”€â”€ ProjectForm.tsx
â”‚   â””â”€â”€ Common/
â”‚       â”œâ”€â”€ Button.tsx
â”‚       â”œâ”€â”€ Input.tsx
â”‚       â””â”€â”€ Modal.tsx
â”‚
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ api-client.ts             # API í´ë¼ì´ì–¸íŠ¸
â”‚   â”œâ”€â”€ fabric-helpers.ts         # Fabric.js ìœ í‹¸
â”‚   â””â”€â”€ utils.ts
â”‚
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useEditor.ts
â”‚   â”œâ”€â”€ useAuth.ts
â”‚   â””â”€â”€ useProjects.ts
â”‚
â”œâ”€â”€ store/
â”‚   â”œâ”€â”€ auth-store.ts             # Zustand store
â”‚   â”œâ”€â”€ editor-store.ts
â”‚   â””â”€â”€ project-store.ts
â”‚
â”œâ”€â”€ types/
â”‚   â”œâ”€â”€ api.ts                    # API íƒ€ì… ì •ì˜
â”‚   â”œâ”€â”€ editor.ts
â”‚   â””â”€â”€ project.ts
â”‚
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ components/
â”‚   â””â”€â”€ lib/
â”‚
â”œâ”€â”€ daily_logs/                   # ì¼ì¼ ì‘ì—… ê³„íšì„œ
â”‚   â”œâ”€â”€ 2025-11-15.md
â”‚   â”œâ”€â”€ 2025-11-16.md
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ public/
â”‚   â””â”€â”€ assets/
â”‚
â”œâ”€â”€ .env.local
â”œâ”€â”€ .eslintrc.json
â”œâ”€â”€ .prettierrc.json
â”œâ”€â”€ next.config.js
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â””â”€â”€ tailwind.config.ts
```

---

# 11. í™˜ê²½ ë³€ìˆ˜

**íŒŒì¼**: `frontend_starter/.env.local`

```bash
# API
NEXT_PUBLIC_API_URL=http://100.123.51.5:8000

# MinIO
NEXT_PUBLIC_MINIO_ENDPOINT=http://100.123.51.5:9000
NEXT_PUBLIC_MINIO_BUCKET=sparklio

# Analytics (ì„ íƒ)
NEXT_PUBLIC_GA_ID=G-XXXXXXXXXX
```

---

# 12. ë¬¸ì œ ë°œìƒ ì‹œ ëŒ€ì‘

## 12.1 ë¬¸ì œ ë“±ê¸‰

### Level 1: ìì²´ í•´ê²° ê°€ëŠ¥
- ì»´í¬ë„ŒíŠ¸ ìŠ¤íƒ€ì¼ ì´ìŠˆ
- ì¼ë°˜ì ì¸ ë²„ê·¸
- ë¬¸ì„œì— í•´ê²° ë°©ë²•ì´ ìˆëŠ” ê²½ìš°

**ëŒ€ì‘**: ìŠ¤ìŠ¤ë¡œ í•´ê²°, daily_logsì— ê¸°ë¡

---

### Level 2: íŒ€ ë‚´ í˜‘ì˜ í•„ìš”
- API ì‘ë‹µ í¬ë§· ë¶ˆì¼ì¹˜
- ë³µì¡í•œ ìƒíƒœ ê´€ë¦¬ ì´ìŠˆ
- ì„±ëŠ¥ ë¬¸ì œ

**ëŒ€ì‘**:
1. Daily standupì—ì„œ ë…¼ì˜
2. íŒ€ ë‚´ ì½”ë“œ ë¦¬ë·°
3. í•´ê²° ë°©ë²• ë¬¸ì„œí™”

---

### Level 3: AíŒ€/BíŒ€ í˜‘ì˜ í•„ìš”
- Backend API ë³€ê²½ ìš”ì²­
- ì¸í”„ë¼ ì´ìŠˆ (ì„œë²„ ì ‘ì† ë¶ˆê°€)
- ì•„í‚¤í…ì²˜ ë³€ê²½ í•„ìš”

**ëŒ€ì‘**:
1. ì¦‰ì‹œ AíŒ€ ë˜ëŠ” BíŒ€ì— ì•Œë¦¼
2. GitHub Issue ìƒì„±
3. í•´ê²° ë•Œê¹Œì§€ ëŒ€ì²´ ë°©ì•ˆ ì‚¬ìš©

---

## 12.2 ì—ìŠ¤ì»¬ë ˆì´ì…˜

```
ë¬¸ì œ ë°œê²¬
    â†“
ìì²´ í•´ê²° ì‹œë„ (1ì‹œê°„)
    â†“
[ì‹¤íŒ¨ ì‹œ]
íŒ€ ë‚´ ë…¼ì˜ (Daily standup)
    â†“
[í•´ê²° ì•ˆ ë˜ë©´]
AíŒ€/BíŒ€ í˜‘ì˜ (GitHub Issue)
    â†“
[ê¸´ê¸‰ ì‹œ]
ì¦‰ì‹œ Slack/Email ì•Œë¦¼
```

---

# 13. ìµœì¢… ì²´í¬ë¦¬ìŠ¤íŠ¸

## Phase 1 ì™„ë£Œ ì‹œ
- [ ] Next.js 14 í”„ë¡œì íŠ¸ ìƒì„± ì™„ë£Œ
- [ ] API Client êµ¬í˜„ ë° í…ŒìŠ¤íŠ¸
- [ ] ì¸ì¦ ì‹œìŠ¤í…œ êµ¬í˜„
- [ ] ê¸°ë³¸ ë ˆì´ì•„ì›ƒ ì™„ì„±
- [ ] ESLint, Prettier ì„¤ì •
- [ ] Git ì»¤ë°‹ ê·œì¹™ ì¤€ìˆ˜
- [ ] Daily logs ì‘ì„± (ë§¤ì¼)
- [ ] í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ 70% ì´ìƒ

---

## Phase 2 ì™„ë£Œ ì‹œ
- [ ] í”„ë¡œì íŠ¸ ê´€ë¦¬ UI ì™„ì„±
- [ ] Editor ê¸°ë³¸ ê¸°ëŠ¥ êµ¬í˜„
- [ ] Fabric.js í†µí•©
- [ ] SmartRouter ì—°ë™
- [ ] Asset Library êµ¬í˜„
- [ ] ë¸Œëœë“œ ê´€ë¦¬ UI ì™„ì„±
- [ ] í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ 70% ì´ìƒ

---

## Phase 3 ì™„ë£Œ ì‹œ
- [ ] Editor 12ê°œ Action Category ì™„ì„±
- [ ] Workflow í†µí•©
- [ ] Review System êµ¬í˜„
- [ ] Export ê¸°ëŠ¥ (PNG/JPG/PDF)
- [ ] E2E í…ŒìŠ¤íŠ¸ ì‘ì„±
- [ ] ì„±ëŠ¥ ìµœì í™” (Lighthouse 80ì  ì´ìƒ)

---

## ìµœì¢… ë³‘í•© ì „ ì²´í¬
- [ ] ëª¨ë“  Phase ì‘ì—… ì™„ë£Œ
- [ ] í…ŒìŠ¤íŠ¸ 100% í†µê³¼
- [ ] ESLint ì—ëŸ¬ 0ê°œ
- [ ] Build ì„±ê³µ (`npm run build`)
- [ ] ì½”ë“œ ë¦¬ë·° ì™„ë£Œ
- [ ] ë¬¸ì„œ ì—…ë°ì´íŠ¸ (README, API docs)
- [ ] Git ì»¤ë°‹ ë©”ì‹œì§€ ì •ë¦¬
- [ ] `frontend_starter/` â†’ `frontend/` ë³‘í•© ì¤€ë¹„

---

# 14. ê¸°ìˆ  ìŠ¤íƒ ìš”ì•½

| ë¶„ë¥˜ | ê¸°ìˆ  |
|------|------|
| Framework | Next.js 14 (App Router) |
| Language | TypeScript |
| Styling | Tailwind CSS |
| State | Zustand / Jotai |
| Canvas | Fabric.js |
| HTTP Client | Axios |
| Testing | Jest + React Testing Library |
| Linting | ESLint + Prettier |
| E2E Testing | Playwright (ì„ íƒ) |

---

# 15. ì°¸ê³  ìë£Œ

## ê³µì‹ ë¬¸ì„œ
- Next.js: https://nextjs.org/docs
- Fabric.js: http://fabricjs.com/docs/
- Tailwind CSS: https://tailwindcss.com/docs

## ë‚´ë¶€ ë¬¸ì„œ
- [EDITOR_ENGINE_IMPLEMENTATION.md](K:\sparklio_ai_marketing_studio\docs\EDITOR_ENGINE_IMPLEMENTATION.md)
- [AGENT_IO_SCHEMA_CATALOG.md](K:\sparklio_ai_marketing_studio\docs\AGENT_IO_SCHEMA_CATALOG.md)
- [SMART_ROUTER_SPEC.md](K:\sparklio_ai_marketing_studio\docs\SMART_ROUTER_SPEC.md)

---

# 16. ì—°ë½ì²˜ ë° ì§€ì›

## AíŒ€ (Infrastructure)
- **ì—­í• **: ì¸í”„ë¼, í™˜ê²½ ì„¤ì •, ì•„í‚¤í…ì²˜
- **ë¬¸ì˜**: ì„œë²„ ì ‘ì† ì´ìŠˆ, í™˜ê²½ ë³€ìˆ˜, ë°°í¬ ê´€ë ¨

## BíŒ€ (Backend)
- **ì—­í• **: FastAPI, Agent êµ¬í˜„, API
- **ë¬¸ì˜**: API ë³€ê²½ ìš”ì²­, ì—ì´ì „íŠ¸ ì—°ë™ ì´ìŠˆ

## CíŒ€ (Frontend)
- **ì—­í• **: Next.js, Editor, UI/UX
- **íŒ€ ë‚´ í˜‘ì—…**: Daily standup, ì½”ë“œ ë¦¬ë·°

---

# 17. ì‹œì‘í•˜ê¸°

## Step 1: í™˜ê²½ ì„¤ì •
```bash
# 1. ì‘ì—… í´ë”ë¡œ ì´ë™
cd K:\sparklio_ai_marketing_studio\frontend_starter

# 2. Next.js í”„ë¡œì íŠ¸ ìƒì„±
npx create-next-app@latest . --typescript --tailwind --app --no-src-dir

# 3. ì˜ì¡´ì„± ì„¤ì¹˜
npm install axios fabric zustand
npm install -D @types/fabric

# 4. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env.local
# .env.local íŒŒì¼ í¸ì§‘
```

## Step 2: í•„ë… ë¬¸ì„œ ì½ê¸°
- [ ] FINAL_REPORT.md (30ë¶„)
- [ ] EDITOR_ENGINE_IMPLEMENTATION.md (45ë¶„)
- [ ] AGENT_IO_SCHEMA_CATALOG.md (30ë¶„)
- [ ] SMART_ROUTER_SPEC.md (20ë¶„)

## Step 3: ì²« ì»¤ë°‹
```bash
git checkout -b dev
git add .
git commit -m "chore: Initialize Next.js 14 project with TypeScript and Tailwind"
git push origin dev
```

## Step 4: Daily log ì‘ì„±
```bash
# ì˜¤ëŠ˜ ë‚ ì§œë¡œ íŒŒì¼ ìƒì„±
code frontend_starter/daily_logs/2025-11-15.md
```

---

# 18. ê²°ë¡ 

**CíŒ€(Frontend)ì˜ ì—­í• **:
- Sparklio V4ì˜ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ê°œë°œ
- Editor ì—”ì§„ êµ¬í˜„ (Fabric.js)
- Backend API ì—°ë™
- ì‚¬ìš©ì ê²½í—˜ ìµœì í™”

**AíŒ€ì´ ì¤€ë¹„í•œ ê²ƒ**:
- âœ… ì „ì²´ ì‹œìŠ¤í…œ ì„¤ê³„
- âœ… Backend API ëª…ì„¸
- âœ… Editor êµ¬í˜„ ê°€ì´ë“œ
- âœ… ì‘ì—… ì§€ì‹œì„œ ë° ì›Œí¬í”Œë¡œìš°

**CíŒ€ì´ í•´ì•¼ í•  ê²ƒ**:
- Phase 1-3 ìˆœì°¨ ì§„í–‰
- ë§¤ì¼ ì‘ì—… ë¡œê·¸ ì‘ì„±
- ìì£¼ ì»¤ë°‹ (2-3ì‹œê°„ë§ˆë‹¤)
- í…ŒìŠ¤íŠ¸ ì‘ì„± (70% ì´ìƒ)
- ì½”ë“œ í’ˆì§ˆ ìœ ì§€ (ESLint/Prettier)

---

**ì‘ì„± ì™„ë£Œì¼**: 2025-11-15
**ë‹¤ìŒ ì•¡ì…˜**: CíŒ€ ì˜¨ë³´ë”©, Next.js í”„ë¡œì íŠ¸ ìƒì„±, Phase 1 ì‹œì‘

**Good luck, CíŒ€! ğŸš€**
