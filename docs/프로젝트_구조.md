# 📁 Sparklio AI 마케팅 스튜디오 - 프로젝트 구조

## 개요

이 문서는 Sparklio AI 마케팅 스튜디오의 전체 프로젝트 구조와 각 디렉토리의 역할을 설명합니다.

## 디렉토리 구조

```
Sparklio_ai_marketing_studio/
├── backend/              # 백엔드 서버 (FastAPI)
│   ├── api/             # REST API 엔드포인트
│   ├── core/            # 핵심 설정 및 유틸리티
│   ├── models/          # 데이터베이스 모델 (SQLAlchemy)
│   ├── services/        # 비즈니스 로직 서비스
│   └── utils/           # 공통 유틸리티 함수
│
├── frontend/            # 프론트엔드 애플리케이션 (Next.js)
│   ├── components/      # React 컴포넌트
│   ├── pages/           # Next.js 페이지 라우팅
│   ├── styles/          # CSS 및 스타일 파일
│   ├── public/          # 정적 파일 (이미지, 폰트 등)
│   └── lib/             # 프론트엔드 유틸리티 및 라이브러리
│
├── agents/              # 멀티 에이전트 시스템 (A2A)
│   ├── strategist/      # 전략 수립 에이전트
│   ├── copywriter/      # 카피라이팅 에이전트
│   ├── vision/          # 이미지 생성 및 분석 에이전트
│   ├── video/           # 영상 제작 에이전트
│   ├── trend/           # 트렌드 분석 에이전트
│   ├── template/        # 템플릿 생성 에이전트
│   ├── data/            # 데이터 수집 에이전트
│   ├── rag/             # RAG 검색 에이전트
│   ├── ad/              # 광고 최적화 에이전트
│   ├── security/        # 보안 검증 에이전트
│   ├── budget/          # 비용 추적 에이전트
│   └── pm/              # 프로젝트 관리 에이전트
│
├── docs/                # 프로젝트 문서
│   ├── guides/          # 개발 가이드 및 튜토리얼
│   ├── api/             # API 문서
│   └── architecture/    # 아키텍처 설계 문서
│
├── config/              # 설정 파일
│   ├── development/     # 개발 환경 설정
│   ├── staging/         # 스테이징 환경 설정
│   └── production/      # 프로덕션 환경 설정
│
├── scripts/             # 유틸리티 스크립트
│   ├── setup/           # 초기 설정 스크립트
│   ├── deploy/          # 배포 스크립트
│   └── migration/       # 데이터 마이그레이션 스크립트
│
├── tests/               # 테스트 코드
│   ├── unit/            # 단위 테스트
│   ├── integration/     # 통합 테스트
│   └── e2e/             # End-to-End 테스트
│
└── README.md            # 프로젝트 소개 및 개요
```

## 주요 디렉토리 상세 설명

### 📦 backend/

FastAPI 기반의 백엔드 서버입니다.

- **api/**: REST API 엔드포인트를 정의합니다.
  - 브랜드 분석, 마케팅 브리프, SNS 콘텐츠 생성 등의 API
  - 각 모듈별로 라우터를 분리하여 관리

- **core/**: 애플리케이션의 핵심 설정
  - 데이터베이스 연결 설정
  - 인증 및 보안 설정
  - LLM 라우터 설정

- **models/**: SQLAlchemy ORM 모델
  - 사용자, 프로젝트, 브랜드 키트 등의 데이터 모델
  - PostgreSQL + pgvector 스키마 정의

- **services/**: 비즈니스 로직 계층
  - 에이전트 오케스트레이션
  - LLM 호출 관리
  - 외부 API 통합

- **utils/**: 공통 유틸리티
  - 파일 처리, 이미지 변환, 텍스트 파싱 등

### 🎨 frontend/

Next.js + React 기반의 프론트엔드 애플리케이션입니다.

- **components/**: 재사용 가능한 React 컴포넌트
  - ChatInterface: 챗봇 UI
  - UnifiedEditor: Fabric.js 기반 통합 에디터
  - VideoStudio: 영상 편집 타임라인

- **pages/**: Next.js 페이지 라우팅
  - 각 모듈별 페이지 (브랜드 분석, 브리프, SNS 등)
  - API 라우트 핸들러

- **styles/**: 전역 CSS 및 컴포넌트 스타일

- **lib/**: 프론트엔드 로직
  - API 클라이언트
  - WebSocket 연결 관리
  - 상태 관리 (Redux/Zustand)

### 🤖 agents/

A2A 프로토콜 기반의 멀티 에이전트 시스템입니다.

각 에이전트는 독립적인 모듈로 구성되며, 다음 구조를 따릅니다:

```
agents/strategist/
├── __init__.py
├── agent.py           # 에이전트 메인 로직
├── prompts.py         # LLM 프롬프트 템플릿
├── schemas.py         # 입출력 스키마
└── utils.py           # 에이전트별 유틸리티
```

**주요 에이전트:**

1. **StrategistAgent**: 캠페인 전략 및 구조 설계
2. **CopywriterAgent**: 카피 및 콘텐츠 작성
3. **VisionGeneratorAgent**: AI 이미지 생성
4. **VideoDirectorAgent**: 영상 제작 및 편집
5. **TrendAgent**: 시장 트렌드 분석
6. **RAGAgent**: 브랜드 특화 지식 검색
7. **PM Agent**: 워크플로우 전체 조율

### 📚 docs/

프로젝트 문서화 디렉토리입니다.

- **guides/**: 개발자를 위한 가이드
  - 설치 및 설정 방법
  - 개발 워크플로우
  - 코딩 컨벤션

- **api/**: API 상세 문서
  - REST API 엔드포인트 명세
  - 요청/응답 스키마
  - 사용 예제

- **architecture/**: 시스템 아키텍처 문서
  - 전체 시스템 구조도
  - 데이터 플로우
  - 인프라 구성

### ⚙️ config/

환경별 설정 파일을 관리합니다.

- **development/**: 로컬 개발 환경
- **staging/**: 사전 배포 테스트 환경
- **production/**: 실제 서비스 환경

### 🔧 scripts/

자동화 스크립트 모음입니다.

- **setup/**: 초기 환경 설정
  - 데이터베이스 초기화
  - 의존성 설치
  - 개발 환경 구성

- **deploy/**: 배포 자동화
  - Docker 빌드 및 푸시
  - 서버 배포 스크립트

- **migration/**: 데이터 마이그레이션
  - 데이터베이스 스키마 변경
  - 데이터 이전 작업

### 🧪 tests/

테스트 코드 디렉토리입니다.

- **unit/**: 단위 테스트
  - 개별 함수 및 클래스 테스트
  - Mock을 활용한 독립적인 테스트

- **integration/**: 통합 테스트
  - 모듈 간 상호작용 테스트
  - 데이터베이스 연동 테스트

- **e2e/**: End-to-End 테스트
  - 사용자 시나리오 기반 테스트
  - 전체 워크플로우 검증

## 개발 환경 설정

### 멀티 노드 인프라

Sparklio는 다음 3개의 노드로 구성됩니다:

1. **Desktop (RTX 4070 SUPER)**:
   - 이미지 생성 (DALL·E, NanoBanana)
   - 영상 렌더링 (Sora2)
   - 로컬 LLM 추론 (Qwen, Llama, Mistral)

2. **Laptop (RTX 4060 Laptop)**:
   - 프론트엔드 개발 서버
   - 시연 및 데모
   - 테스트 환경

3. **Mac mini M2**:
   - 24/7 백엔드 API 서버
   - PostgreSQL 데이터베이스
   - Redis 캐시
   - Celery Worker
   - APScheduler

모든 노드는 **Tailscale**로 연결되며, 에셋은 **MinIO** 또는 **S3**에 저장됩니다.

## 기술 스택

### Backend
- **Python 3.11+**
- **FastAPI**: REST API 프레임워크
- **SQLAlchemy**: ORM
- **Celery**: 비동기 작업 큐
- **APScheduler**: 작업 스케줄러
- **PostgreSQL + pgvector**: 데이터베이스
- **Redis**: 캐시 및 메시지 브로커

### Frontend
- **Next.js 14+**: React 프레임워크
- **TypeScript**: 타입 안전성
- **Fabric.js**: 통합 에디터
- **TailwindCSS**: 스타일링
- **WebSocket**: 실시간 통신

### AI/ML
- **OpenAI GPT**: 텍스트 생성
- **Anthropic Claude**: 고품질 텍스트
- **Google Gemini**: 멀티모달 처리
- **Qwen/Llama/Mistral**: 로컬 LLM
- **DALL·E / NanoBanana**: 이미지 생성
- **Sora2**: 영상 생성 (로드맵)

### DevOps
- **Docker & Docker Compose**: 컨테이너화
- **Tailscale**: 멀티 노드 네트워킹
- **MinIO / S3**: 객체 스토리지
- **GitHub Actions**: CI/CD
- **Nginx**: 리버스 프록시

## 다음 단계

1. ✅ 프로젝트 디렉토리 구조 생성
2. ⏭️ 개발 가이드 문서 작성
3. ⏭️ API 설계 문서 작성
4. ⏭️ 기여 가이드 작성
5. ⏭️ 코드 스캐폴딩 시작

---

**작성일**: 2025-11-13
**버전**: 1.0.0
