지금 이 Canvas Studio v3 PRD는 **“에디터 자체”** 기준으로는 상당히 잘 정리되어 있고, Sparklio 전체 설계(IDE for Creatives, Agent-Native, Hybrid 인프라)와 큰 축은 잘 맞습니다.

다만 **Sparklio 전체 계획에 비추면 빠진 축이 몇 개** 있어서, 이 부분을 보강해 두면 A/B팀, Claude 쪽에서 구현할 때 훨씬 덜 헤맬 것 같아요.  
아래는 **“어디가 비어 있는지 + 어떻게 보강하면 좋은지”**를 정리한 것입니다.

---

## 1. Sparklio 전체 플로우에서의 “위치”가 더 명확해져야 함

지금 PRD는 “Canvas Studio”만 잘 설명하고 있고,  
이게 **전체 Sparklio 플로우(홈 → Chat → Generate → Editor → Publish)** 안에서 정확히 어디부터 어디까지를 책임지는지가 덜 보입니다.

### 부족한 점

- 이전 PRD들에서 정리했던 글로벌 구조:
    
    - Landing → **Chat(브리프/생성 중심)** → Editor(One-Page Editor) → Publish
        
    - 글로벌 메뉴: `Create(Chat) | Editor | Assets | Publish | Settings`
        
- 이번 PRD의 Activity Bar:
    
    - `[P] Planning | [E] Editor | [V] Video | [S] Settings`
        
- 둘 사이의 **매핑/관계 정의가 없음**
    
    - 예: Planning 모드가 “Chat Create 단계와 어떤 관계인지”
        
    - Editor가 “One-Page Editor” 전체인지, 그 중 Canvas 영역만 의미하는지
        

### 보강 제안

- PRD 상단에 **“Sparklio 전체 플로우 내 역할”** 섹션 추가:
    
    - Canvas Studio v3는:
        
        - `Create(Chat)` 이후 “AI가 생성한 초안들을 편집·정제하는 메인 작업실”
            
        - `Publish` 전에 최종 결과물을 마무리하는 Hub
            
- Activity Bar와 글로벌 메뉴의 매핑 문장 명시:
    
    - `[P] Planning` → `Create` 단계의 “비주얼/아이디어 보드 뷰”
        
    - `[E] Editor` → `Editor`의 핵심 뷰 (One-Page Editor)
        
    - `[V] Video` → `Editor`의 Video 탭 (Phase 4)
        
- “Meeting AI에서 넘어온 결과물이 어디서 열리는지” 한 줄로 명시:
    
    - 예: MeetingAI → `/studio?docId=xxx&mode=P`로 바로 진입
        

---

## 2. Brand Kit / RAG / Brand Learning 연결이 약함

Sparklio 전체 설계의 핵심은 **Brand-Aware 생성 + Brand Kit + RAG 시스템**인데,  
이번 PRD에서는 **“브랜드 패널” “브랜드 토큰”**이 거의 안 보입니다.

### 부족한 점

- Left / Right 패널 구조는 있는데:
    
    - Brand 색상, 폰트, 로고, Tone of Voice 등 **Brand Kit 패널 정의가 없음**
        
- Spark Chat이 브랜드 문맥을 어떻게 가져오는지 안 적혀 있음.
    
- RAG/Brand Learning Engine과 Editor의 연결 방식이 빠져 있음.
    

### 보강 제안

- Right Dock에 섹션 추가:
    
    - `• Brand Panel (Brand Colors / Fonts / Components / Tone Tips)`
        
- Spark Chat 설명에:
    
    - “모든 프롬프트는 Brand-Aware RAG Context를 자동 포함한다” 명시
        
    - 예: `context.brandId`, `context.recent_campaigns`, `context.tone_guide`
        
- Data Model 보강:
    
    `interface StudioDocument {   id: string;   brandId?: string;         // Brand Kit 연결   templateId?: string;      // 템플릿 출처   type: 'image' | 'video';   ... }`
    
- “Brand Learning Engine과의 데이터 흐름” 1–2 문단 추가:
    
    - Editor에서 사용한 색/폰트/레이아웃 패턴 → Brand Learning Engine에 로그 → 차후 추천 개선
        

---

## 3. 템플릿/콘텐츠 타입 정의가 부족함 (상품상세, SNS 세트, 프레젠테이션 등)

Sparklio는 “**마케팅 산출물 세트**”가 핵심인데,  
지금 PRD는 **캔버스 크기와 모드** 중심이고, **콘텐츠 타입/템플릿 라이프사이클**이 거의 없음.

### 부족한 점

- 상품 상세페이지, SNS 묶음(피드+스토리+썸네일), 프레젠테이션 등  
    **도메인별 템플릿 타입** 정의가 없음.
    
- “한 기획에서 다수 아트보드(사이즈/채널) 연결” 개념이 약함.
    

### 보강 제안

- “Content Types & Templates” 섹션 추가:
    
    - `product_detail`, `sns_set`, `slide_deck`, `poster`, `thumbnail` 등 정의
        
- `StudioPage`에 **채널/사이즈 메타데이터** 추가:
    
    `interface StudioPage {   id: string;   kind: 'product_detail' | 'sns_feed' | 'sns_story' | 'slide' | ...;   width: number;   height: number;   channel?: 'instagram' | 'naver_blog' | 'youtube' | ...;   ... }`
    
- 템플릿 라이프사이클 요약:
    
    - System Template → Brand Customized Template → User Saved Template
        
    - 템플릿 버전/업데이트 시 기존 문서에 미치는 영향 정책(자동 업데이트 vs freeze)
        

---

## 4. Publish / Multi-Channel 파이프라인과의 연결이 거의 없음

지금 PRD는 Export를 “파일 저장” 정도로만 언급하고 있고,  
**Publisher Spec / SNS Automation**에서 정의한 “멀티 채널 발행 OS” 쪽과 연결이 약합니다.

### 부족한 점

- Right Dock의 `Export / Publish`가 구체적으로 어떤 일을 하는지 없음.
    
- `POST /api/v1/publish` 계열 API와의 관계, Queue, Job 상태 표시 없음.
    

### 보강 제안

- “Publishing Integration” 섹션 추가:
    
    - Export 타입:
        
        - File Export: PNG/JPEG/PDF/MP4
            
        - Publish Export: Instagram, Naver Blog, YouTube, 기타 Webhook
            
    - Publish Flow 예시:
        
        1. User: “인스타 피드/스토리/릴스로 발행 준비해줘”
            
        2. Canvas Studio: 각 채널용 페이지 구성/미리보기
            
        3. User: 채널별 캡션/해시태그 수정
            
        4. `PublisherService`에 Job 생성 → 상태 Progress bar로 표시
            
- Bottom Panel 로그에 **Publish Job 상태**도 포함:
    
    - “Agent Logs / System Status / Publish Queue”
        

---

## 5. Agent Protocol이 너무 간단하게만 적혀 있음

지금 5.2는 `POST /api/v1/agents/execute` 한 줄이라,  
실제 구현 시 **“Editor 상태를 어떻게 들고/보내고, Undo/Redo와 어떻게 맞물리는지”**가 애매합니다.

### 부족한 점

- Agent가 받는 입력/내보내는 출력 스키마 미정.
    
- 에디터 커맨드(ADD_OBJECT, UPDATE_STYLE, APPLY_TEMPLATE 등) 목록이 없음.
    
- 긴 작업(ComfyUI 이미지 생성, 영상 렌더링)에 대한 비동기 프로토콜/WebSocket/SSE 언급 없음.
    
- 실패/Error 코드/Partial 적용 시나리오 없음.
    

### 보강 제안

- `EditorCommand` 타입 정의 추가:
    
    `interface EditorCommand {   id: string;   type:     | 'ADD_OBJECT'     | 'UPDATE_OBJECT'     | 'DELETE_OBJECT'     | 'APPLY_TEMPLATE'     | 'UPDATE_BACKGROUND'     | 'BATCH_UPDATE'     | ...;   payload: any;   source: 'user' | 'agent';   timestamp: string; }`
    
- Agent API 스펙 예시:
    
    `POST /api/v1/agents/execute {   "role": "editor",   "task": "update_background",   "document": { ... 최소 상태 or diff ... },   "selection": ["object_123"],   "natural_language": "배경을 좀 더 차분한 파란색 그라데이션으로",   "options": { "preview": true } } → {   "commands": [ { "type": "UPDATE_BACKGROUND", ... } ],   "messages": [ "이 스타일을 추천합니다." ] }`
    
- Long-running 작업은:
    
    - `202 Accepted → job_id` 반환
        
    - WebSocket/SSE 채널로 진행상황/완료 알림
        

---

## 6. Editor 기능 디테일 (P0 범위) 더 박아두면 좋음

현재 PRD는 상위 개념(이동, 리사이즈, 폰트 등)까지만 있고,  
**P0에서 반드시 들어가야 할 “당연/필수 UX” 목록**이 명시되지 않았습니다.

### 보강하면 좋은 포인트

- 레이아웃/정렬:
    
    - Smart Guide, Snap to Grid, Safe Area(광고 텍스트 안전 영역)
        
- 타이포그래피:
    
    - Line-height, Letter-spacing, Text Auto-resize, Text styles(Heading/Body/Caption)
        
- Components:
    
    - 버튼, 카드, 배지, 가격표, 리뷰 블록 등 “마케팅 UI 블록”
        
- Asset Library:
    
    - MinIO를 전제로 한 파일 구조, 썸네일 캐시, 태그/검색, 버전 관리
        
- History:
    
    - Undo/Redo 스택 설계(최대 스텝, 메모리 정책)
        

이것들을 **“Phase 2: Core Engine” 아래에 P0/P1 구분으로 적어두면**  
A/B팀이 어디까지 구현해야 하는지 바로 알 수 있습니다.

---

## 7. Video 확장 로드맵이 너무 얇음 (그러나 Vision은 좋음)

Vision은 잘 잡혀 있는데, 실제 Video 쪽으로 갈 때 필요한 요소들이 아직 안 보입니다.

### 보강 제안

- 타임라인 구조:
    
    `interface TimelineTrack {   id: string;   type: 'video' | 'image' | 'text' | 'audio';   clips: TimelineClip[]; }  interface TimelineClip {   id: string;   objectId?: string; // Canvas object와 연결   start: number;   end: number;   transition?: Transition; }`
    
- 오디오 레이어 & MeetingAI 연계:
    
    - 회의록 → 내레이션 스크립트 → TTS → Audio 트랙 자동 배치
        
- Vertical/Horizontal 버전 동시 관리(Shorts/Reels/Feed 비율 변환)
    
- Desktop GPU(4070)와의 연결을 Video 섹션에 명시:
    
    - “모든 Video Render는 Desktop Worker를 통해 수행”
        

---

## 8. Feature Flag / INTERNAL_MODE / QA & Metrics 언급이 없음

Unified Feature Spec에서 중요한 축이었던:

- `INTERNAL_MODE`, `GENERATOR_SCOPE`, `EDITOR_SCOPE`
    
- Superset/Monitoring, QA 게이트
    

이 PRD 안에 한 줄도 안 나옵니다.

### 보강 제안

- “Feature Flags & Modes” 섹션 추가:
    
    - INTERNAL_MODE=true일 때만 Video 탭 노출
        
    - EDITOR_SCOPE=“image_only”일 때 타임라인 패널 비활성화 등
        
- “Tracking & Metrics” 섹션:
    
    - Editor 이벤트 로깅:
        
        - command_type, latency, agent vs user 비율
            
        - Publish 성공/실패율
            
    - Superset 대시보드에서 볼 핵심 지표 정의:
        
        - 세션당 생성 문서 수, Agent 사용 비율, Brand별 사용량 등
            

---

## 한 줄 정리 & 다음 스텝 제안

- 지금 PRD는 **“하나의 훌륭한 크리에이티브 IDE” 설계**로는 이미 충분히 수준이 높습니다.
    
- 하지만 **Sparklio 전체 설계에서 강조했던 축**(Brand Kit / RAG / Multi-channel Publish / Feature Flags / Metrics / Agent Protocol 디테일)이 빠져 있어서,  
    이대로만 구현하면 “좋은 에디터”는 되는데 “Sparklio만의 OS”라는 느낌은 약해질 수 있습니다.
    

**관리자 모드 / 크롤링 / 자동학습 / 자동 템플릿 생성** 축이 거의 드러나 있지 않습니다.

이 축은 사실 Sparklio 전체 계획에서 **“우리를 다른 서비스와 완전히 갈라놓는 핵심 무기”**라서,  
Canvas Studio PRD 안에도 최소한의 구조와 역할을 명시해 두는 게 좋습니다.

아래처럼 정리해서 넣으면 좋겠습니다.

---

## 1. 현재 PRD에서 빠져 있는 축 정리

지금 v3 PRD 기준으로 빠져 있는 것들:

1. **관리자 모드 (Admin Studio / INTERNAL_MODE)**
    
    - 트렌드 크롤링 세팅, 데이터셋 관리, 템플릿 등록/비활성화, 품질 평가 등 “백오피스” 역할.
        
2. **크롤링 + 자동 학습 파이프라인**
    
    - 외부 사이트(캠페인/랜딩/SNS 광고)에서 레이아웃·카피·디자인 패턴을 수집하는 TrendPipeline.
        
3. **템플릿 자동 생성(Template Auto-Builder)**
    
    - 크롤링/업로드된 이미지/디자인을 **객체 분리·레이어 분리·텍스트/이미지 구분**해서  
        바로 Studio 템플릿(JSON)으로 변환하는 엔진.
        
4. **정밀 객체 모델**
    
    - 단순히 `text / image / shape`가 아니라,
        
    - `title / subtitle / body / price / button / logo / hero_image / background / badge …` 같은  
        **“마케팅 구조를 이해하는 오브젝트 모델”**.
        

지금 PRD의 `StudioObject`는:

`type: 'text' | 'image' | 'video' | 'shape';`

정도로만 되어 있어서,  
**자동 템플릿 생성 + 학습용으로는 정보량이 부족**합니다.

---

## 2. 관리자 모드: 어떤 역할을 맡는지

### 2.1 관리자 모드의 위치

- 일반 유저:
    
    - Landing → Chat(Create) → Canvas Studio → Publish
        
- 관리자(INTERNAL_MODE=true):
    
    - `Admin Studio`라는 별도 모드 또는
        
    - Canvas Studio 내 **Admin 탭 / Admin 모드 토글**로 진입
        

여기에서:

1. **Trend Crawler 관리**
    
    - 타겟 도메인, 키워드, 언어, 카테고리 설정
        
    - 크롤링 주기, 수집 건수, 예산 설정
        
2. **데이터셋 & 템플릿 관리**
    
    - 크롤링된 랜딩 페이지/배너/SNS 카드들을 미리보기로 확인
        
    - “좋음/나쁨” 라벨링, 카테고리 태깅 (K-Beauty, 패션, F&B, SaaS 등)
        
    - “템플릿으로 승격” 버튼 → Template Auto-Builder 트리거
        
3. **자동학습 설정**
    
    - 어떤 데이터셋을 어떤 에이전트(Strategist, Copywriter, Designer)의  
        RAG/추천/스코어링에 반영할지 선택
        
4. **라이브러리 품질 관리**
    
    - 템플릿 사용량/전환율/클릭률 기반으로 “추천 템플릿” 리스트 관리
        
    - 오래된/성능 안 좋은 템플릿 비활성화
        

➡️ 이걸 PRD에 **“7. Admin Studio & Self-Learning Engine (관리자 모드)”** 정도로 하나의 섹션으로 넣는 게 좋습니다.

---

## 3. 템플릿 자동 생성: 객체·레이어 분리 요구사항

말씀하신 핵심:

> “수집된 데이타 및 이미지 템플릿등을 업로드 하면 자동템플릿 제작되는 부분  
> 그렇게 하기위해 객체분리, 레이어분리 이미지 텍스트 분리 등 정밀한 결과물”

이걸 PRD 관점에서는 이렇게 쪼갤 수 있습니다.

### 3.1 Template Auto-Builder 파이프라인

1. **입력 소스**
    
    - 크롤링된 랜딩 페이지 스크린샷
        
    - 배너/포스터 이미지(JPG/PNG)
        
    - 디자이너가 올린 PDF/PSD/AI 파일 (처음엔 이미지 위주로 시작)
        
2. **분석 단계 (Template Analyzer)**
    
    - 레이아웃 영역 탐지 (섹션/블록)
        
    - 텍스트 영역 감지 + OCR 추출
        
    - 이미지 영역 / 로고 영역 구분
        
    - 버튼/배지/가격 태그 등 UI 요소 식별
        
3. **내부 StudioDocument로 변환**
    
    - 각 영역을 `StudioObject`로 변환
        
    - 위치(x,y), 크기(width,height), zIndex(레이어 순서) 설정
        
    - 마케팅 역할(Role) 부여 (title, body, price, CTA 등)
        
4. **템플릿으로 저장**
    
    - `type: 'template'`, `category`, `channel`, `style_tags` 등 메타데이터 포함
        
    - Admin이 QA 후 “공개”로 전환 → 일반 유저 Template Library에 노출
        

이걸 캔버스 PRD에 **“Template Auto-Builder”** 서브섹션으로 박아두면,  
나중에 TrendPipeline/RAG Spec과도 자연스럽게 연결됩니다.

---

## 4. 이를 위해 필요한 StudioObject 확장

이 자동화를 하려면 **오브젝트에 “디자인 정보 + 마케팅 의미”가 같이 있어야** 합니다.

예시 확장안:

`type StudioObjectRole =   | 'title'   | 'subtitle'   | 'body'   | 'price'   | 'discount'   | 'cta'   | 'logo'   | 'hero_image'   | 'background'   | 'icon'   | 'badge'   | 'decorative';  interface StudioObject {   id: string;   type: 'text' | 'image' | 'video' | 'shape';   role?: StudioObjectRole;     // 마케팅 역할   x: number;   y: number;   width?: number;   height?: number;   zIndex: number;              // 레이어 순서    // 스타일 공통   opacity?: number;   rotation?: number;    // Text 전용   text?: string;   fontFamily?: string;   fontSize?: number;   fontWeight?: number | string;   lineHeight?: number;   letterSpacing?: number;    // Image 전용   assetId?: string;            // MinIO/Asset 서버 ID   fit?: 'cover' | 'contain';    // 그룹 정보   groupId?: string;            // 카드/섹션 단위 그룹    animations?: Keyframe[]; }`

이렇게 해야:

- **템플릿 자동 생성** 시:
    
    - Vision/OCR이 “이건 큰 제목 텍스트”라고 판단하면 `role: 'title'`로 저장.
        
    - 버튼은 `type: 'shape' + text object` 묶음 + `role: 'cta'`.
        
- **에이전트 편집** 시:
    
    - “CTA 문구만 더 자극적으로 바꿔줘” → `role: 'cta'` 객체만 골라서 수정.
        
- **분석/학습** 시:
    
    - “K-Beauty 상위 전환 랜딩의 title 폰트 스타일”,  
        “SNS 광고에서 price 영역 위치 패턴” 같은 분석이 가능.
        

즉, 지금 PRD의 Data Model 섹션에 **역할(Role)·레이어(zIndex)·그룹(Group)·Asset 연결** 정도는 넣어두는 게 좋습니다.

---

## 5. 캔버스 엔진과 자동 학습 사이의 연결

Canvas Studio는 단순히 편집 화면이 아니라,  
**“학습에 필요한 깨끗한 데이터셋을 생산하는 공장”** 역할도 합니다.

그래서 PRD에 아래 내용을 명시해 두면 좋습니다.

### 5.1 Editor → Learning Engine 로그

- 유저가 최종 저장/발행한 문서에 대해:
    
    - StudioDocument JSON (레이아웃, 역할, 스타일)
        
    - 브랜드 ID, 캠페인 ID, 채널 정보
        
    - 사용된 템플릿 ID
        
- 이걸 **Brand Learning Engine / TrendPipeline**이 주기적으로 읽어:
    
    - 많이 쓰이는 레이아웃 패턴,
        
    - 클릭률/전환률 좋은 템플릿 패턴(나중에) 분석
        

### 5.2 Admin Studio에서의 학습 피드백

- Admin이 Template 목록에서:
    
    - “좋음/나쁨” 평가, “업데이트 필요” 플래그
        
    - “이 템플릿을 기반으로 변형 10개 생성” 버튼 → Generator 호출
        
- 이 과정 자체가 **Self-Learning Loop**로 정의되어  
    RAG/추천/스코어링 모델의 학습 데이터로 쓰임.
    

---

## 6. PRD에 실제로 추가하면 좋은 섹션 구조 예시

지금 v3 문서에 아래 섹션을 추가하는 식으로 정리하면 좋겠습니다.

`7. Admin Studio & Self-Learning Engine (관리자 모드)  7.1 관리자 페르소나 & 목표 - 역할: Template Curator, Trend Researcher, 내부 마케터 - 목표:  - 외부 트렌드/템플릿을 수집해 Sparklio 라이브러리를 지속 확장  - 좋은 템플릿을 선별하고, 나쁜 템플릿을 제거  - 에이전트 학습 데이터를 관리하여 결과 품질 향상  7.2 Trend Crawler & Dataset Builder - 외부 사이트/채널에서 마케팅 크리에이티브(랜딩, 배너, SNS 카드)를 주기적으로 크롤링 - Crontab/APScheduler 기반 스케줄 관리 - 관리자 UI에서:  - 타겟 도메인/키워드/카테고리 설정  - 수집량/주기/예산 확인  - 수집 결과 미리보기 + 라벨링  7.3 Asset & Template Ingest (업로드 & 템플릿 등록) - 입력: JPG/PNG/PDF 등 디자인 파일 업로드 - Template Analyzer:  - 레이아웃 블록 탐지  - 텍스트/이미지/버튼/로고/배지 등 요소 분리  - StudioDocument/StudioObject 구조로 변환 - Admin이 결과를 확인 후:  - 카테고리/채널/스타일 태그 입력  - "템플릿으로 저장" 버튼 → Template Library 반영  7.4 Template Auto-Builder (자동 템플릿 생성) - 크롤링 결과 또는 업로드된 이미지를 기반으로 자동 템플릿 생성 - 역할(Role)을 포함한 StudioObject로 변환:  - title, subtitle, body, price, cta, logo, hero_image, background 등 - 생성된 템플릿은:   - System Template → Brand Customized Template → User Saved Template 순으로 확장  7.5 Data Logging & Self-Learning - Canvas Studio에서 저장/발행된 모든 문서는:   - 레이아웃/스타일/역할 정보와 함께 Brand Learning Engine으로 전송 - 학습 목적:   - 브랜드별/채널별로 잘 쓰이는 템플릿 패턴 파악   - 에이전트(Strategist/Copywriter/Designer)의 추천 품질 개선`

이렇게만 들어가도,

- **관리자 모드가 왜 필요한지**
    
- **Canvas Studio가 왜 정밀 객체 모델을 가져야 하는지**
    
- **크롤링·자동 템플릿·자동학습이 어디서 묶이는지**
    

가 문서 상에서 한 번에 보이게 됩니다.

---

## 마무리

정리하면,

- 지금 v3 PRD는 **“사용자용 IDE”** 축은 정말 잘 설계되어 있고,
    
- 여기에 **“관리자 모드 + 크롤링 + 자동 템플릿 생성 + 정밀 객체 모델 + Self-Learning 루프”**만  
    섹션으로 묶어서 추가하면,  
    Sparklio 전체 비전(트렌드 연구 + 데이터 축적 + 에이전트 자동학습)이 PRD 안에서 자연스럽게 이어집니다.