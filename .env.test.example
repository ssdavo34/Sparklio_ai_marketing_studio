# ============================================
# Sparklio 테스트 환경 변수
# ============================================
# 사용 방법: 이 파일을 .env.test로 복사하고 값을 수정
# cp .env.test.example .env.test
# ============================================

# 환경 설정
SPARKLIO_ENV=test
NODE_ENV=test

# 프론트엔드 URL
FRONTEND_URL=http://localhost:3000

# 백엔드 API URL
API_BASE_URL=http://localhost:8000

# Mock Provider 사용 여부 (Phase 1-3: true, Phase 4: false)
USE_MOCK_PROVIDER=true

# ============================================
# 데이터베이스 설정
# ============================================

POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=sparklio_test
POSTGRES_USER=postgres
POSTGRES_PASSWORD=testpassword

# ============================================
# MinIO (Object Storage)
# ============================================

MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=sparklio-test
MINIO_USE_SSL=false

# ============================================
# Redis
# ============================================

REDIS_URL=redis://localhost:6379/0

# ============================================
# 인증 (JWT)
# ============================================

# 테스트용 JWT 시크릿 (프로덕션과 다른 값 사용)
JWT_SECRET=test-secret-key-do-not-use-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRES_IN=86400

# 테스트용 JWT 토큰 (test_data.sql의 user-test-001용)
# 생성 방법: 백엔드에서 /api/v1/auth/login 호출
TEST_TOKEN=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyLXRlc3QtMDAxIiwiZW1haWwiOiJxYUBzcGFya2xpby5haSIsInJvbGUiOiJhZG1pbiIsImV4cCI6OTk5OTk5OTk5OX0.test

# ============================================
# Generator API (NanoBanana)
# ============================================

# Phase 1-3: Mock Provider 사용으로 불필요
# Phase 4: 실제 API 키 필요
NANOBANANA_API_KEY=
NANOBANANA_API_URL=https://api.nanobanana.ai/v1
NANOBANANA_MODEL=gemini-2.5-flash-imagen

# ============================================
# Playwright 설정
# ============================================

# 브라우저 다운로드 경로
PLAYWRIGHT_BROWSERS_PATH=~/.cache/ms-playwright

# 헤드리스 모드 (CI에서는 true)
PLAYWRIGHT_HEADLESS=true

# ============================================
# Artillery 설정
# ============================================

# 부하 테스트 타겟 URL (package.json 스크립트에서 오버라이드 가능)
ARTILLERY_TARGET=http://localhost:8000

# ============================================
# 로깅
# ============================================

LOG_LEVEL=debug
LOG_FORMAT=json

# ============================================
# Feature Flags (테스트용)
# ============================================

FEATURE_FLAG_CANVAS_STUDIO_V3=true
FEATURE_FLAG_CONCEPT_BOARD=true
FEATURE_FLAG_GENERATOR_API=true
